const listProduct = [
    {
        id: 1,
        name: "Apple MacBook Air M1 2020 13 (8GB/256GB SSD)",
        cate_id: 1,
        detail: "Laptop MacBook Air 2020 13 inch là dòng laptop cao cấp đến từ thương hiệu Apple nổi tiếng. Chiếc Macbook Air thế hệ mới sở hữu vẻ đẹp tinh tế cùng hiệu năng mạnh mẽ đến từ con chip Apple M1. Đây sẽ là một chiếc laptop phù hợp với nhiều người dùng trong công việc và giải trí.",
        image: 
        [
        "img/product/macbook1.webp",
        "img/product/macbook1_2.webp",
        "img/product/macbook1_3.webp",
        "img/product/macbook1_4.webp",
        "img/product/macbook1_5.webp"],
        price: 2549000,
        price_sale: 1899000
    },
    {
        id: 2,
        name: "Apple MacBook Pro M3 Pro 16 (64GB/1TB SSD)",
        cate_id: 1,
        detail: "Laptop MacBook Pro M3 Pro 16 inch là dòng laptop cao cấp đến từ thương hiệu Apple nổi tiếng. Chiếc Macbook Air thế hệ mới sở hữu vẻ đẹp tinh tế cùng hiệu năng mạnh mẽ đến từ con chip Apple M1. Đây sẽ là một chiếc laptop phù hợp với nhiều người dùng trong công việc và giải trí.",
        image: 
        [
        "img/product/macbook2.webp",
        "img/product/macbook2_2.webp",
        "img/product/macbook2_3.webp",
        "img/product/macbook2_4.webp",
        "img/product/macbook2_5.webp"],
        price: 107499000,
        price_sale: 102499000
    },
    {
        id: 3,
        name: "Apple MacBook Pro M2 2022 13 inch (16GB/256GB SSD)",
        cate_id: 1,
        detail: "MacBook Pro 13 inch Z16T0003V thuộc dòng sản phẩm cao cấp đến từ nhà Táo, mang trong mình sức mạnh của chip Apple M2 đem đến hiệu năng mạnh mẽ, xử lý hầu hết mọi tác vụ. Máy có thiết kế tinh tế sang trọng đặc trưng của Apple được nhiều doanh nhân, KOL, Influencer lựa chọn làm bạn đồng hành trong công việc.",
        image: 
        [
        "img/product/macbook3.webp",
        "img/product/macbook3_2.webp",
        "img/product/macbook3_3.webp",
        "img/product/macbook3_4.webp",
        "img/product/macbook3_5.webp"],
        price: 35490000,
        price_sale: 31299000
    },
    {
        id: 4,
        name: "Apple MacBook Pro 16 inch 2023 M3 Max (48GB/1TB SSD)",
        cate_id: 1,
        detail: "Laptop MacBook Air 2020 13 inch là dòng laptop cao cấp đến từ thương hiệu Apple nổi tiếng. Chiếc Macbook Air thế hệ mới sở hữu vẻ đẹp tinh tế cùng hiệu năng mạnh mẽ đến từ con chip Apple M1. Đây sẽ là một chiếc laptop phù hợp với nhiều người dùng trong công việc và giải trí.",
        image: 
        [
        "img/product/macbook4.webp",
        "img/product/macbook4_2.webp",
        "img/product/macbook4_3.webp",
        "img/product/macbook4_4.webp",
        "img/product/macbook4_5.webp"],
        price: 104690000,
        price_sale: 102490000
    },
    {
        id: 5,
        name: "Apple MacBook Pro 13 M2 (16GB/512GB SSD)",
        cate_id: 1,
        detail: "Laptop MacBook Air 2020 13 inch là dòng laptop cao cấp đến từ thương hiệu Apple nổi tiếng. Chiếc Macbook Air thế hệ mới sở hữu vẻ đẹp tinh tế cùng hiệu năng mạnh mẽ đến từ con chip Apple M1. Đây sẽ là một chiếc laptop phù hợp với nhiều người dùng trong công việc và giải trí.",
        image: 
        [
        "img/product/macbook5.webp",
        "img/product/macbook5_2.webp",
        "img/product/macbook5_3.webp",
        "img/product/macbook5_4.webp",
        "img/product/macbook5_5.webp"],
        price: 42169000,
        price_sale: 40490000
    },


    {
        id: 6,
        name: "Chuột gaming không dây Logitech G903 Hero (910-005674)",
        cate_id: 3,
        detail: "Chuột gaming Logitech G903 là một minh chứng sống động cho sự thực tế và chất lượng cao của công nghệ. Với giá trị đáng đồng tiền và chất lượng xứng tầm, nó là một lựa chọn tuyệt vời để nâng cao trải nghiệm chơi game của bạn. Với thiết kế tinh tế và chất lượng xây dựng tuyệt vời, G903 mang đến sự tiện ích và hiệu suất xuất sắc trong không gian không dây. Được hỗ trợ bởi công nghệ Lightspeed và Powerplay độc quyền của Logitech, G903 là một trong những chuột chơi game hàng đầu trên thị trường. Kết hợp hiệu suất ấn tượng và tính năng tiên tiến, G903 là lựa chọn không thể thiếu cho các game thủ thực thụ.",
        image: "img/product/chuot1.webp",
        price: 3790000,
        price_sale: 1999000
    },
    {
        id: 7,
        name: "Chuột không dây Logitech M650L (Đen) ( 910-006247)",
        cate_id: 3,
        detail: "Đang cập nhật",
        image: "img/product/chuot2.webp",
        price: 849000,
        price_sale: 649000
    },
    {
        id: 8,
        name: "Chuột không dây MOFII M6 Blue (09586)",
        cate_id: 3,
        detail: "Đang cập nhật",
        image: "img/product/chuot3.webp",
        price: 199000,
        price_sale: 179000
    },
    {
        id: 9,
        name: "Chuột máy tính Genius DX-101 màu đen (31010026400)",
        cate_id: 3,
        detail: "Đang cập nhật",
        image: "img/product/chuot4.webp",
        price: 100000,
        price_sale: 89000
    },
    {
        id: 10,
        name: "Chuột máy tính Genius DX-Mini màu đen (31010025400)",
        cate_id: 3,
        detail: "Đang cập nhật",
        image: "img/product/chuot5.webp",
        price: 150000,
        price_sale: 139000
    }
];

var str_macbook = "";
for (let i = 0; i < 5; i++) {
    var obj = JSON.stringify(listProduct[i]);
    var percentSale = ((listProduct[i].price - listProduct[i].price_sale) / listProduct[i].price * 100).toFixed(1);
    str_macbook += `
                <div class="col w-20">
                    <div class="product">
                        <div class="product-heart">
                            <button onclick=\'showDetails(\`${obj}\`)\'><i class="fa-regular fa-heart"></i></button>
                    </div>
                    <div class="product-addCart">
                    <button onclick=\'addCart(\`${obj}\`)\'><i class="fa-solid fa-cart-plus"></i></button>
                    </div>
                    <button onclick=\'showDetails(\`${obj}\`)\'>
                            <div class="product-img">
                                <img src="${listProduct[i].image[0]}" alt="">
                            </div>
                            <div class="product-content">
                                <div class="product-category ">
                                    MacBook
                                </div>
                                <div class="product-name">
                                ${listProduct[i].name}
                                </div>
                                <div class="product-price">
                                ${listProduct[i].price_sale.toLocaleString('vi-VN')}đ
                                </div>
                                <div class="product-price-sale">
                                    <del class="pps">${listProduct[i].price.toLocaleString('vi-VN')}đ</del>
                                    ${percentSale}%
                                </div>
                            </div>
                        </button>
                    </div>
                </div>`
        ;
}
document.querySelector(".listProductMacbook").innerHTML = str_macbook;

var str_chuot = "";
for (let i = 5; i < 10; i++) {
    var obj = JSON.stringify(listProduct[i]);
    var percentSale = ((listProduct[i].price - listProduct[i].price_sale) / listProduct[i].price * 100).toFixed(1);
    str_chuot += `
                <div class="col w-20">
                    <div class="product">
                        <div class="product-heart">
                            <button onclick=\'showDetails(\`${obj}\`)\'><i class="fa-regular fa-heart"></i></button>
                    </div>
                    <div class="product-addCart">
                    <button onclick=\'addCart(\`${obj}\`)\'><i class="fa-solid fa-cart-plus"></i></button>
                    </div>
                    <button onclick=\'showDetails(\`${obj}\`)\'>
                            <div class="product-img">
                                <img src="${listProduct[i].image}" alt="">
                            </div>
                            <div class="product-content">
                                <div class="product-category ">
                                    MacBook
                                </div>
                                <div class="product-name">
                                ${listProduct[i].name}
                                </div>
                                <div class="product-price">
                                ${listProduct[i].price_sale.toLocaleString('vi-VN')}đ
                                </div>
                                <div class="product-price-sale">
                                    <del class="pps">${listProduct[i].price.toLocaleString('vi-VN')}đ</del>
                                    ${percentSale}%
                                </div>
                            </div>
                        </button>
                    </div>
                </div>`
        ;
}
document.querySelector(".listProductChuot").innerHTML = str_chuot;

let quantity = 0;
const arrCart = [];
function addCart(objSP) {
    console.log(objSP)
    objSP = JSON.parse(objSP)
    var item;
    var qtyItem = 0;
    var flag = false;

    for (let i = 0; i < arrCart.length; i++) {
        if (arrCart[i].sp.id == objSP.id) {
            arrCart[i].qty++;
            flag = true;
            break;
        }
    }
    if (flag == false) {
        let cartItem = { sp: objSP, qty: 1 };
        arrCart.push(cartItem);
    }

    quantity++;
    document.querySelector('.cartNumber').innerText = `(${quantity})`;
    console.log(arrCart);
}
function showDetails(objSP) {
    console.log(objSP);
    window.localStorage.clear();
    window.localStorage.setItem("product", objSP);
    location.href="details.html"
}